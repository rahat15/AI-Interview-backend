{
  "info": {
    "name": "AI Interview Coach API",
    "description": "Complete API collection for AI Interview Coach Backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "resumeId",
      "value": "692fc10aeff5078bbeaf34a1",
      "type": "string"
    },
    {
      "key": "sessionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "jdId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health & Overview",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/healthz",
              "host": ["{{baseUrl}}"],
              "path": ["healthz"]
            }
          }
        },
        {
          "name": "API Overview",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/",
              "host": ["{{baseUrl}}"],
              "path": ["api", ""]
            }
          }
        }
      ]
    },
    {
      "name": "Job Description Management",
      "item": [
        {
          "name": "Upload JD File",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('jdId', response.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "user_id",
                  "value": "692fc048eff5078bbeaf3472",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/jd/upload",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jd", "upload"]
            }
          }
        },
        {
          "name": "Get JD by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jd/{{jdId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jd", "{{jdId}}"]
            }
          }
        },
        {
          "name": "List All JDs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jd/",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jd", ""]
            }
          }
        },
        {
          "name": "List JDs by User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jd/?user_id=692fc048eff5078bbeaf3472",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jd", ""],
              "query": [
                {
                  "key": "user_id",
                  "value": "692fc048eff5078bbeaf3472"
                }
              ]
            }
          }
        },
        {
          "name": "Delete JD",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jd/{{jdId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jd", "{{jdId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Session Management",
      "item": [
        {
          "name": "Create Session with Resume & JD Text",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('sessionId', response.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"Senior Backend Engineer\",\n  \"industry\": \"Technology\",\n  \"company\": \"TechCorp Inc\",\n  \"cv_file_id\": \"{{resumeId}}\",\n  \"jd_text\": \"We are looking for a Senior Backend Engineer with 5+ years of experience in Python, FastAPI, and MongoDB. The candidate should have strong problem-solving skills and experience with microservices architecture.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/sessions/",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", ""]
            }
          }
        },
        {
          "name": "Create Session with Resume & JD File",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"Frontend Developer\",\n  \"industry\": \"Technology\",\n  \"company\": \"StartupXYZ\",\n  \"cv_file_id\": \"{{resumeId}}\",\n  \"jd_file_id\": \"{{jdId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/sessions/",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", ""]
            }
          }
        },
        {
          "name": "Get Session Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/{{sessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "{{sessionId}}"]
            }
          }
        },
        {
          "name": "List All Sessions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", ""]
            }
          }
        },
        {
          "name": "Get Next Question",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/{{sessionId}}/next-question",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "{{sessionId}}", "next-question"]
            }
          }
        },
        {
          "name": "Submit Answer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"question_id\": \"question-uuid-here\",\n  \"session_id\": \"{{sessionId}}\",\n  \"text\": \"I am a passionate software engineer with 5+ years of experience in backend development. I specialize in Python, FastAPI, and have worked extensively with MongoDB and microservices architecture. I enjoy solving complex problems and building scalable systems.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/sessions/{{sessionId}}/answer",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "{{sessionId}}", "answer"]
            }
          }
        },
        {
          "name": "Add JD Text to Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jd_text\": \"Updated job description: We need a senior developer with expertise in cloud technologies, Docker, Kubernetes, and CI/CD pipelines.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/sessions/{{sessionId}}/jd-text",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "{{sessionId}}", "jd-text"]
            }
          }
        },
        {
          "name": "Get Session Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/{{sessionId}}/report",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "{{sessionId}}", "report"]
            }
          }
        },
        {
          "name": "Delete Session",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/{{sessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "{{sessionId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Resume Management",
      "item": [
        {
          "name": "Get Resume Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/resume/{{resumeId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "resume", "{{resumeId}}"]
            }
          }
        },
        {
          "name": "Debug - List All Resumes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/debug/resumes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "debug", "resumes"]
            }
          }
        },
        {
          "name": "Debug - Get Specific Resume",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/sessions/debug/resume/{{resumeId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sessions", "debug", "resume", "{{resumeId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "CV Evaluation",
      "item": [
        {
          "name": "Score CV Only",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cv_text\": \"John Doe\\nSoftware Engineer\\n\\nExperience:\\n- 5 years in Python development\\n- Built scalable web applications\\n- Experience with FastAPI, MongoDB\\n\\nSkills:\\n- Python, JavaScript, SQL\\n- Docker, Kubernetes\\n- AWS, CI/CD\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/cv/score",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "cv", "score"]
            }
          }
        },
        {
          "name": "CV + JD Fit Index",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cv_text\": \"John Doe\\nSoftware Engineer\\n\\nExperience:\\n- 5 years in Python development\\n- Built scalable web applications\\n- Experience with FastAPI, MongoDB\\n\\nSkills:\\n- Python, JavaScript, SQL\\n- Docker, Kubernetes\\n- AWS, CI/CD\",\n  \"jd_text\": \"We are looking for a Senior Backend Engineer with 5+ years of experience in Python, FastAPI, and MongoDB. The candidate should have strong problem-solving skills and experience with microservices architecture.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/cv/fit-index",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "cv", "fit-index"]
            }
          }
        },
        {
          "name": "Generate CV Improvements",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cv_text\": \"John Doe\\nSoftware Engineer\\n\\nExperience:\\n- 5 years in Python development\\n- Built scalable web applications\\n- Experience with FastAPI, MongoDB\\n\\nSkills:\\n- Python, JavaScript, SQL\\n- Docker, Kubernetes\\n- AWS, CI/CD\",\n  \"jd_text\": \"We are looking for a Senior Backend Engineer with 5+ years of experience in Python, FastAPI, and MongoDB. The candidate should have strong problem-solving skills and experience with microservices architecture.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/cv/improvement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "cv", "improvement"]
            }
          }
        }
      ]
    },
    {
      "name": "File Upload & Processing",
      "item": [
        {
          "name": "Upload CV for Evaluation",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "jd_text",
                  "value": "We are looking for a Senior Backend Engineer with 5+ years of experience in Python, FastAPI, and MongoDB.",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/upload/cv_evaluate",
              "host": ["{{baseUrl}}"],
              "path": ["api", "upload", "cv_evaluate"]
            }
          }
        },
        {
          "name": "Upload CV for Improvement",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "jd_text",
                  "value": "We are looking for a Senior Backend Engineer with 5+ years of experience in Python, FastAPI, and MongoDB.",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/upload/cv_improvement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "upload", "cv_improvement"]
            }
          }
        }
      ]
    },
    {
      "name": "Direct Evaluation",
      "item": [
        {
          "name": "Evaluate CV vs JD (JSON)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cv_text\": \"John Doe\\nSoftware Engineer\\n\\nExperience:\\n- 5 years in Python development\\n- Built scalable web applications\\n- Experience with FastAPI, MongoDB\\n\\nSkills:\\n- Python, JavaScript, SQL\\n- Docker, Kubernetes\\n- AWS, CI/CD\",\n  \"jd_text\": \"We are looking for a Senior Backend Engineer with 5+ years of experience in Python, FastAPI, and MongoDB. The candidate should have strong problem-solving skills and experience with microservices architecture.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/evaluation/cv",
              "host": ["{{baseUrl}}"],
              "path": ["api", "evaluation", "cv"]
            }
          }
        }
      ]
    },
    {
      "name": "Live Interview",
      "item": [
        {
          "name": "Start Interview Session (with IDs)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"user123\",\n  \"session_id\": \"session456\",\n  \"role_title\": \"Senior Backend Engineer\",\n  \"company_name\": \"TechCorp Inc\",\n  \"industry\": \"Technology\",\n  \"cv_id\": \"{{resumeId}}\",\n  \"jd_id\": \"{{jdId}}\",\n  \"round_type\": \"full\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/interview/start",
              "host": ["{{baseUrl}}"],
              "path": ["api", "interview", "start"]
            }
          }
        },
        {
          "name": "Start Interview Session (with Text)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"user123\",\n  \"session_id\": \"session456\",\n  \"role_title\": \"Senior Backend Engineer\",\n  \"company_name\": \"TechCorp Inc\",\n  \"industry\": \"Technology\",\n  \"jd\": \"We are looking for a Senior Backend Engineer with 5+ years of experience in Python, FastAPI, and MongoDB. Experience with microservices architecture is required.\",\n  \"cv\": \"John Doe - Software Engineer with 5 years experience in Python, FastAPI, and backend development. Built scalable microservices.\",\n  \"round_type\": \"full\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/interview/start",
              "host": ["{{baseUrl}}"],
              "path": ["api", "interview", "start"]
            }
          }
        },
        {
          "name": "Submit Interview Answer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"user123\",\n  \"session_id\": \"session456\",\n  \"answer\": \"I am a passionate software engineer with 5+ years of experience in backend development. I specialize in Python and have built several scalable applications using FastAPI and MongoDB.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/interview/answer",
              "host": ["{{baseUrl}}"],
              "path": ["api", "interview", "answer"]
            }
          }
        },
        {
          "name": "Get Interview State",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/interview/state/user123/session456",
              "host": ["{{baseUrl}}"],
              "path": ["api", "interview", "state", "user123", "session456"]
            }
          }
        },
        {
          "name": "Get User Sessions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/interview/sessions/user123",
              "host": ["{{baseUrl}}"],
              "path": ["api", "interview", "sessions", "user123"]
            }
          }
        },
        {
          "name": "Get Interview Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/interview/report/user123/session456",
              "host": ["{{baseUrl}}"],
              "path": ["api", "interview", "report", "user123", "session456"]
            }
          }
        }
      ]
    },
    {
      "name": "Artifact Management",
      "item": [
        {
          "name": "Upload CV Artifact",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/uploads/cv",
              "host": ["{{baseUrl}}"],
              "path": ["api", "uploads", "cv"]
            }
          }
        },
        {
          "name": "Upload JD Artifact",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/uploads/jd",
              "host": ["{{baseUrl}}"],
              "path": ["api", "uploads", "jd"]
            }
          }
        },
        {
          "name": "Get Artifact Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/uploads/artifact-id-here",
              "host": ["{{baseUrl}}"],
              "path": ["api", "uploads", "artifact-id-here"]
            }
          }
        },
        {
          "name": "Delete Artifact",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/uploads/artifact-id-here",
              "host": ["{{baseUrl}}"],
              "path": ["api", "uploads", "artifact-id-here"]
            }
          }
        }
      ]
    }
  ]
}